webpackJsonp([1],[,,,function(e,t,s){"use strict";var a=s(24),n=s.n(a),r={apiKey:"AIzaSyAzMpKT1qH02b_h4MH6yaCJPhSHf38e3zE",authDomain:"spectre-chat.firebaseapp.com",databaseURL:"https://spectre-chat.firebaseio.com",projectId:"spectre-chat",storageBucket:"spectre-chat.appspot.com",messagingSenderId:"196132737990"},i=n.a.initializeApp(r),o=i.database();t.a=o},,,,,function(e,t,s){"use strict";var a=s(2),n=s(34),r=s(31),i=s.n(r);a.a.use(n.a),t.a=new n.a({routes:[{path:"/",name:"Chat",component:i.a}]})},function(e,t,s){"use strict";var a=s(2),n=s(4),r=s(5),i=s.n(r);s.d(t,"a",function(){return o}),a.a.use(n.a),a.a.use(i.a);var o=new n.a.Store({state:{messages:null},mutations:i.a.mutations,getters:{messages:function(e){return e.messages}}})},function(e,t){},function(e,t){},function(e,t){},function(e,t,s){s(17);var a=s(7)(s(15),s(32),null,null);e.exports=a.exports},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(2),n=s(13),r=s.n(n),i=s(8),o=s(3),c=s(9),u=s(4),l=s(5),d=s.n(l),m=s(12),p=(s.n(m),s(10)),v=(s.n(p),s(11));s.n(v);a.a.config.productionTip=!1,a.a.use(d.a),new a.a({el:"#app",router:i.a,store:c.a,computed:u.a.mapGetters(["messages"]),firebase:{messages:o.a.ref("messages")},template:"<App/>",components:{App:r.a}})},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(3);t.default={data:function(){return{ref:a.a.ref("messages"),messages:this.$store.getters.messages,sendingMessage:!1,userName:"",isNameSet:!1,messageToSend:"",hasError:!1,hasNameError:!1}},methods:{debug:function(e){console.log(e)},getDate:function(e){if(void 0===e)return"";var t=new Date(e);return(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"/"+(t.getDate()<10?"0"+t.getDate():t.getDate())+"/"+t.getFullYear().toString().substring(2,4)+" "+t.getHours()+":"+t.getMinutes()},setName:function(){/\S/.test(this.userName)?(this.hasNameError&&(this.hasNameError=!1),this.isNameSet=!0):this.hasNameError=!0},sendMessage:function(){var e=this;/\S/.test(this.messageToSend)?(this.hasError&&(this.hasError=!1),this.sendingMessage=!0,this.ref.push({user:this.userName,text:this.messageToSend,time:(new Date).getTime()}).then(function(){e.sendingMessage=!1,e.messageToSend="",e.scrollToEnd()})):this.hasError=!0},scrollToEnd:function(){var e=this.$el.querySelector(".panel-body");e.scrollTop=e.scrollHeight}}}},function(e,t){},,,,,,,,,,,,,,function(e,t,s){var a=s(7)(s(16),s(33),null,null);e.exports=a.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column col-12 col-xs-12"},[s("div",{staticClass:"panel sc-panel"},[s("div",{staticClass:"panel-header"},[s("h3",[e._v("Spectre Chat")]),e._v(" "),e.isNameSet?s("h5",[e._v("User: "+e._s(e.userName))]):e._e()]),e._v(" "),s("div",{staticClass:"panel-body"},e._l(e.messages,function(t){return s("div",[t.hasOwnProperty("time")?s("span",[e._v("["+e._s(e.getDate(t.time))+"]")]):e._e(),e._v(" "),s("b",[e._v(" "+e._s(t.user))]),e._v(": "+e._s(t.text)+"\n          ")])})),e._v(" "),s("div",{staticClass:"panel-footer"},[s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.messageToSend,expression:"messageToSend"}],staticClass:"form-input",class:{"is-danger":e.hasError},attrs:{type:"text",placeholder:"Write a message"},domProps:{value:e.messageToSend},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.sendMessage()},input:function(t){t.target.composing||(e.messageToSend=t.target.value)}}}),e._v(" "),s("button",{staticClass:"btn btn-primary input-group-btn",class:{"disabled, loading":e.sendingMessage},on:{click:function(t){e.sendMessage()}}},[e._v("Send")])])])])])]),e._v(" "),s("div",{staticClass:"modal",class:{active:!e.isNameSet}},[s("div",{staticClass:"modal-overlay"}),e._v(" "),s("div",{staticClass:"modal-container"},[e._m(0),e._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"content"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],staticClass:"form-input",class:{"is-danger":e.hasNameError},attrs:{type:"text",id:"input-example-1",placeholder:"Your name"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary input-group-btn",on:{click:function(t){e.setName()}}},[e._v("Let's chat!")])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"btn btn-clear float-right"}),e._v(" "),s("div",{staticClass:"modal-title"},[e._v("What is your name?")])])}]}}],[14]);
//# sourceMappingURL=app.8a2dc4e1477bb6a3aa03.js.map